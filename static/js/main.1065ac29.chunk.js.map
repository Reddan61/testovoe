{"version":3,"sources":["redux/errorReducer.js","API/API.js","config/config.js","redux/movieDetailsReducer.js","icons/noimage.jpg","redux/movieReducer.js","components/header/Header.js","icons/filmIconWhite.png","icons/filmIconBrown.png","icons/SearchW.png","icons/Search.png","components/movies/cover/Cover.js","components/movies/movieItem/Movie.js","components/pagination/Pagination.js","components/movies/Movies.js","components/Error/Error.js","App.js","reportWebVitals.js","redux/store.js","index.js"],"names":["ADDERROR","initialState","isError","errorStatus","errorMessage","ErrorReducer","state","action","type","actionError","addErrorThunk","dispatch","e","console","log","apiKey","instance","axios","create","baseURL","moviesAPI","addMovies","pageNumber","get","then","res","catch","response","movieSearch","text","getMovieById","id","getMovieCreditsById","GETMOVIEBYID","GETCREDITSBYID","CHANGERATING","CHANGEFAVORITE","movie","credits","movieDetailsReducer","vote_average","rating","isFavorite","bool","movieDetailsActions","creditsFilter","i","data","cast","length","filter","el","popularity","splice","getRating","arr","JSON","parse","localStorage","getItem","forEach","movieId","movieRating","getIsFavorite","getMovieByIdThunk","a","status","status_message","setRatingThunk","map","push","setItem","stringify","setFavoriteThunk","withDispatch","ADDMOVIES","CHANGEPAGENUMBER","CHANGEISSEARCHINGMOVIE","CHANGESEARCHINGTEXTMOVIE","SORTMOVIE","isSearching","searchingText","totalCountPages","movies","MovieReducer","moviesGrid","Number","movieGrid","actionsMovie","addMoviesThunk","results","total_pages","movieSearchThunk","Header","props","timeOutId","useDispatch","className","src","isSwitched","alt","placeholder","onChange","clearTimeout","setTimeout","target","value","trim","setLoading","search","onClick","ChangeSwitch","withRouterForwardRef","Component","WithRouter","withRouter","forwardedRef","ref","React","forwardRef","useState","isLoading","ChangeLoading","movieDetails","ChangeDetails","ChangeMovie","useEffect","classList","contains","history","ChangeRating","genres","slice","index","name","runtime","release_date","split","useRef","onMouseOver","current","add","onMouseOut","remove","poster_path","noImage","width","height","title","textSearching","useSelector","moviesPage","pages","pageCount","portionCount","Math","ceil","portionSize","portionNumber","setPortionNumber","leftPositionPageNumber","rightPositionPageNumber","location","pathname","innerHTML","chooseNumber","Movies","isFilteredName","ChangeFilterName","isFilteredDate","ChangeFilterDate","moviesCount","changeMoviesCountRow","arrGrid","nameFilter","isFiltered","getState","sort","b","original_title","localeCompare","dateFilter","Date","ChangeGettedMovies","window","innerWidth","Error","errorPage","MovieDetailsContainer","lazy","App","isGettedMovies","exact","path","render","fallback","to","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","reducers","combineReducers","detailsPage","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.1065ac29.chunk.js","sourcesContent":["\r\nconst ADDERROR = \"ADDERROR\";\r\n\r\nlet initialState = {\r\n    isError:false,\r\n    errorStatus: null,\r\n    errorMessage: null\r\n};\r\n\r\n\r\n\r\nconst ErrorReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case ADDERROR:\r\n            return {\r\n                ...state,\r\n                isError:true,\r\n                errorStatus:action.errorStatus,\r\n                errorMessage: action.errorMessage\r\n            };\r\n        default:\r\n            return state\r\n    }\r\n};\r\n\r\nexport default ErrorReducer;\r\n\r\n\r\nconst actionError = {\r\n    addErrorAC: (errorStatus,errorMessage) => ({type:ADDERROR,errorStatus,errorMessage})\r\n};\r\n\r\n\r\nexport const addErrorThunk = (errorStatus,errorMessage) => {\r\n    return dispatch => {\r\n        try {\r\n            dispatch(actionError.addErrorAC(errorStatus,errorMessage));\r\n        }\r\n        catch (e) {\r\n            console.log(e);\r\n        }\r\n    }\r\n};\r\n\r\n\r\n\r\n\r\n","import axios from \"axios\";\r\nimport {config} from \"../config/config\"\r\n\r\nconst apiKey = config.APIKey;\r\n\r\nlet instance = axios.create({\r\n    /*withCredentials:true,*/\r\n    baseURL:'https://api.themoviedb.org/3/'\r\n});\r\n\r\n\r\nexport const moviesAPI = {\r\n    addMovies: (pageNumber) => {\r\n        return instance.get(`movie/popular?api_key=${apiKey}&page=${pageNumber}`).then(res => res).catch(e => e.response)\r\n    },\r\n    movieSearch: (text,pageNumber) => {\r\n        return instance.get(`/search/movie?api_key=${apiKey}&query=${text}&page=${pageNumber}`).then(res => res).catch(e => e.response);\r\n    },\r\n    getMovieById: (id) => {\r\n        return instance.get(`/movie/${id}?api_key=${apiKey}`).then(res => res).catch(e => e.response);\r\n    },\r\n    getMovieCreditsById: (id) => {\r\n        return instance.get(`/movie/${id}/credits?api_key=${apiKey}`).then(res => res).catch(e => e.response)\r\n    }\r\n};\r\n","export const config = {\r\n    APIKey: \"3cb87ac8cd9cd1b68e8d1cdd3af5c985\"\r\n};","import {moviesAPI} from \"../API/API\";\r\nimport {addErrorThunk} from \"./errorReducer\";\r\n\r\nconst GETMOVIEBYID = \"GETMOVIEBYID\";\r\nconst GETCREDITSBYID = \"GETCREDITSBYID\";\r\nconst CHANGERATING = \"CHANGERATING\";\r\nconst CHANGEFAVORITE = \"CHANGEFAVORITE\";\r\n\r\nlet initialState = {\r\n    movie: {},\r\n    credits: []\r\n};\r\n\r\n\r\nconst movieDetailsReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case GETMOVIEBYID:\r\n            return {\r\n                ...state,\r\n                movie: action.movie\r\n            };\r\n        case GETCREDITSBYID:\r\n            return {\r\n                ...state,\r\n                credits: action.credits\r\n            };\r\n        case CHANGERATING:\r\n            return {\r\n                ...state,\r\n                movie: {...state.movie, vote_average: action.rating}\r\n            };\r\n        case CHANGEFAVORITE:\r\n            return {\r\n                ...state,\r\n                movie: {...state.movie,isFavorite:action.bool}\r\n            };\r\n        default:\r\n            return state\r\n    }\r\n};\r\n\r\nexport default movieDetailsReducer;\r\n\r\n\r\nconst movieDetailsActions = {\r\n    getMovieByIdAC: (movie) => ({type: GETMOVIEBYID, movie}),\r\n    getCreditsByIdAC: (credits) => ({type: GETCREDITSBYID, credits}),\r\n    changeRatingAC: (rating) => ({type: CHANGERATING, rating}),\r\n    changeFavoriteAC: (bool) => ({type: CHANGEFAVORITE, bool}),\r\n};\r\n\r\nfunction creditsFilter(credits) {\r\n    let i = 0;\r\n    credits = credits.data.cast;\r\n    while (credits.length > 11) {\r\n        credits = credits.filter(el => el.popularity >= i);\r\n        i += 0.5;\r\n    }\r\n    if (credits.length === 11) {\r\n        credits.splice(10, credits.length)\r\n    }\r\n    return credits;\r\n}\r\n\r\nexport function getRating(movie) {\r\n    let arr = JSON.parse(localStorage.getItem('movieRating'));\r\n    movie.vote_average = 0;\r\n    if (arr && typeof (arr) === \"object\") {\r\n        arr.forEach((el) => {\r\n            if (el.movieId == movie.id) {\r\n                movie.vote_average = el.movieRating\r\n            }\r\n        })\r\n    } else {\r\n        movie.vote_average = 0;\r\n    }\r\n\r\n    return movie\r\n}\r\n\r\nexport function getIsFavorite(movie) {\r\n    let arr = JSON.parse(localStorage.getItem('movieFavorite'));\r\n    movie.isFavorite = false;\r\n    if (arr && typeof (arr) === \"object\") {\r\n        arr.forEach((el) => {\r\n            if (el.movieId == movie.id) {\r\n                movie.isFavorite = el.isFavorite\r\n            }\r\n        })\r\n    } else {\r\n        movie.isFavorite = false;\r\n    }\r\n\r\n    return movie\r\n}\r\n\r\n\r\n\r\n\r\nexport const getMovieByIdThunk = (id) => {\r\n    return async dispatch => {\r\n        try {\r\n            let res = await moviesAPI.getMovieById(id);\r\n            if(res.status >= 400) {\r\n                dispatch(addErrorThunk(res.status,res.data.status_message));\r\n                return\r\n            }\r\n            let movie = res.data;\r\n            movie = await getRating(movie);\r\n            movie = await getIsFavorite(movie);\r\n            let credits = await moviesAPI.getMovieCreditsById(id);\r\n            if(credits.status >= 400) {\r\n                dispatch(addErrorThunk(credits.status,credits.data.status_message));\r\n                return\r\n            }\r\n            dispatch(movieDetailsActions.getCreditsByIdAC(creditsFilter(credits)));\r\n            dispatch(movieDetailsActions.getMovieByIdAC(movie));\r\n        } catch (e) {\r\n            console.log(e)\r\n        }\r\n    }\r\n};\r\n\r\nexport const setRatingThunk = (id, rating) => {\r\n    return dispatch => {\r\n        try {\r\n            let arr = JSON.parse(localStorage.getItem('movieRating'));\r\n            if (arr && arr.length !== 0) {\r\n                let isEqualId = arr.filter(el => el.movieId == id);\r\n                if(isEqualId.length !== 0) {\r\n                    arr = arr.map(el => {\r\n                        if(el.movieId == id) {\r\n                            return {\r\n                                ...el,\r\n                                movieRating: rating\r\n                            }\r\n                        }\r\n                        else return el;\r\n                    })\r\n                } else {\r\n                    arr.push({movieId: id, movieRating: rating});\r\n                }\r\n                localStorage.setItem(\"movieRating\", JSON.stringify(arr));\r\n\r\n            } else {\r\n                localStorage.setItem(\"movieRating\", JSON.stringify([{\r\n                    movieId: id,\r\n                    movieRating: rating\r\n                }]));\r\n            }\r\n            dispatch(movieDetailsActions.changeRatingAC(rating))\r\n        } catch (e) {\r\n            console.log(e)\r\n        }\r\n    }\r\n};\r\n\r\n\r\n\r\nexport const setFavoriteThunk = (id,withDispatch = true) => {\r\n    return async dispatch => {\r\n        try {\r\n            let isFavorite = false;\r\n            let arr = JSON.parse(localStorage.getItem('movieFavorite'));\r\n            if (arr && arr.length !== 0) {\r\n                let isEqualId = arr.filter(el => el.movieId == id);\r\n                if(isEqualId.length !== 0) {\r\n                    arr = arr.map(el => {\r\n                        if(el.movieId == id) {\r\n                            isFavorite = !el.isFavorite;\r\n                            return {\r\n                                ...el,\r\n                                isFavorite: !el.isFavorite\r\n                            }\r\n                        }\r\n                        else return el;\r\n                    })\r\n                } else {\r\n                    isFavorite = true;\r\n                    arr.push({movieId: id, isFavorite: true});\r\n                }\r\n                localStorage.setItem(\"movieFavorite\", JSON.stringify(arr));\r\n            }\r\n            else {\r\n                isFavorite = true;\r\n                localStorage.setItem(\"movieFavorite\", JSON.stringify([{\r\n                    movieId: id,\r\n                    isFavorite: true\r\n                }]));\r\n            }\r\n            if(withDispatch){\r\n                dispatch(movieDetailsActions.changeFavoriteAC(isFavorite))\r\n            } else {\r\n                return isFavorite\r\n            }\r\n        }\r\n        catch (e) {\r\n            console.log(e)\r\n        }\r\n    }\r\n};\r\n","export default \"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEAYABgAAD/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAEAAAAAAAD/7AARRHVja3kAAQAEAAAAXwAA/+EDPGh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8APD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4NCjx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4NCgk8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPg0KCQk8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M2IChXaW5kb3dzKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpFRkM0RjdGNDU1RDQxMUU0ODdCMkZGRDZDRDJCQjU4RCIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpFRkM0RjdGNTU1RDQxMUU0ODdCMkZGRDZDRDJCQjU4RCI+DQoJCQk8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpFRkM0RjdGMjU1RDQxMUU0ODdCMkZGRDZDRDJCQjU4RCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpFRkM0RjdGMzU1RDQxMUU0ODdCMkZGRDZDRDJCQjU4RCIvPg0KCQk8L3JkZjpEZXNjcmlwdGlvbj4NCgk8L3JkZjpSREY+DQo8L3g6eG1wbWV0YT4NCjw/eHBhY2tldCBlbmQ9J3cnPz7/2wBDAAIBAQIBAQICAgICAgICAwUDAwMDAwYEBAMFBwYHBwcGBwcICQsJCAgKCAcHCg0KCgsMDAwMBwkODw0MDgsMDAz/2wBDAQICAgMDAwYDAwYMCAcIDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAz/wAARCAHCASwDASIAAhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQAAAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSExBhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwD9/KKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKK851n48/YdTmht9O8yOFym95dpbB64xx+dLo3x4+3apDBcaeI45pAhdJdxXPGcY5/OgDqfGfjuz8EW0bXHmSSzZ8uJPvNjqfYVzf8Aw0DZ/wDQPuv++1rn/jtc+d4zjX/njaouPcsx/r+lcXQB6p/w0DZ/9A+6/wC+1o/4aBs/+gfdf99rXldFAHrOn/HnTbm7SOa2ubeNjgyEhgvuR1x9M13KsJFDKQysMgjvXzbXv3gW5+1eDdLfr/o0ak+pCgH+VAGtRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUARXl3HYWc08rbY4UMjn0AGTXh/i/wCImoeKr52M0lva5/dwIxVVHvjqfc+/SvXfH5x4J1T/AK9n/lXgdAATk0A4NFFADpJGlbcz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FABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAf/Z\"","import {moviesAPI} from \"../API/API\";\r\nimport {addErrorThunk, errorCatch} from \"./errorReducer\";\r\n\r\nconst ADDMOVIES = \"CHANGEMOVIES\";\r\nconst CHANGEPAGENUMBER = \"CHANGEPAGENUMBER\";\r\nconst CHANGEISSEARCHINGMOVIE = \"CHANGEISSEARCHINGMOVIE\";\r\nconst CHANGESEARCHINGTEXTMOVIE = \"CHANGESEARCHINGTEXTMOVIE\";\r\nconst SORTMOVIE = \"SORTMOVIE\";\r\n\r\n\r\nlet initialState = {\r\n    isSearching: false,\r\n    searchingText: '',\r\n    pageNumber: 1,\r\n    totalCountPages: null,\r\n    movies: []\r\n};\r\n\r\n\r\nconst MovieReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case ADDMOVIES:\r\n            return {\r\n                ...state,\r\n                movies: action.movies,\r\n                totalCountPages: action.totalCountPages,\r\n                moviesGrid: action.moviesGrid,\r\n                pageNumber: Number(action.pageNumber)\r\n            };\r\n        case CHANGEPAGENUMBER:\r\n            return {\r\n                ...state,\r\n                pageNumber: Number(action.pageNumber)\r\n            };\r\n        case CHANGEISSEARCHINGMOVIE:\r\n            return {\r\n                ...state,\r\n                isSearching: action.bool\r\n            };\r\n        case CHANGESEARCHINGTEXTMOVIE:\r\n            return {\r\n                ...state,\r\n                searchingText: action.text\r\n            };\r\n        case SORTMOVIE:\r\n            return {\r\n                ...state,\r\n                movies: action.movies,\r\n                moviesGrid: action.movieGrid\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport default MovieReducer;\r\n\r\n\r\nexport const actionsMovie = {\r\n    addMovieAC: (movies, totalCountPages, pageNumber) => ({\r\n        type: ADDMOVIES,\r\n        movies,\r\n        totalCountPages,\r\n        pageNumber\r\n    }),\r\n    changePageNumberAC: (pageNumber) => ({type: CHANGEPAGENUMBER, pageNumber}),\r\n    changeSearchingTextMovieAC: (text) => ({type: CHANGESEARCHINGTEXTMOVIE, text}),\r\n    changeIsSearchingMovieAC: (bool) => ({type: CHANGEISSEARCHINGMOVIE, bool}),\r\n    sortMovieAC: (movies,movieGrid) => ({type: SORTMOVIE, movies})\r\n};\r\n\r\n/*function arrGrid(movies) {\r\n    let arr = [];\r\n    for (let i = 0; i < Math.ceil(movies.length / 4); i++) {\r\n        arr[i] = movies.slice((i * 4), (i * 4) + 4);\r\n    }\r\n    return arr;\r\n}*/\r\n\r\n\r\nexport const addMoviesThunk = (pageNumber) => {\r\n    return async dispatch => {\r\n        try {\r\n            let res = await moviesAPI.addMovies(pageNumber);\r\n            if(res.status >= 400) {\r\n                dispatch(addErrorThunk(res.status,res.data.status_message));\r\n                return\r\n            }\r\n            let movies = res.data.results;\r\n           /* let arr = arrGrid(movies);*/\r\n            dispatch(actionsMovie.addMovieAC(movies, res.data.total_pages, pageNumber));\r\n        } catch (e) {\r\n            console.log(e);\r\n        }\r\n    }\r\n};\r\n\r\n\r\nexport const movieSearchThunk = (text, pageNumber) => {\r\n    return async dispatch => {\r\n        try {\r\n            let res = await moviesAPI.movieSearch(text, pageNumber);\r\n            if(res.status >= 400) {\r\n                dispatch(addErrorThunk(res.status,res.data.status_message));\r\n                return\r\n            }\r\n            let movies = res.data.results;\r\n            /*let arr = arrGrid(movies);*/\r\n\r\n            dispatch(actionsMovie.changeSearchingTextMovieAC(text));\r\n            dispatch(actionsMovie.addMovieAC(movies, res.data.total_pages, pageNumber));\r\n        } catch (e) {\r\n            console.log(e);\r\n        }\r\n    }\r\n};\r\n\r\n\r\n\r\nexport const FilterByNameThunk = (isFiltered) => {\r\n    return (dispatch,getState) => {\r\n        let state = getState().moviesPage;\r\n        let movies = [...state.movies];\r\n        /*let moviesGrid = [];*/\r\n\r\n        if (isFiltered) {\r\n            movies.sort((a, b) => a.original_title.localeCompare(b.original_title));\r\n            /*moviesGrid = arrGrid(movies);*/\r\n        } else {\r\n            movies.sort((a, b) => b.original_title.localeCompare(a.original_title));\r\n            /*moviesGrid = arrGrid(movies);*/\r\n        }\r\n        dispatch(actionsMovie.sortMovieAC(movies))\r\n    }\r\n};\r\n\r\n\r\nexport const FilterByYearThunk = (isFiltered) => {\r\n    return (dispatch,getState) => {\r\n        let state = getState().moviesPage;\r\n        let movies = [...state.movies];\r\n       /* let moviesGrid = [];*/\r\n\r\n        if (isFiltered) {\r\n            movies.sort((a, b) => {\r\n                a = new Date(a.release_date);\r\n                b = new Date(b.release_date);\r\n                return a>b ? -1 : a<b ? 1 : 0;\r\n            });\r\n           /* moviesGrid = arrGrid(movies);*/\r\n        } else {\r\n            movies.sort((a, b) => {\r\n                a = new Date(a.release_date);\r\n                b = new Date(b.release_date);\r\n                return a<b ? -1 : a>b ? 1 : 0;\r\n            });\r\n           /* moviesGrid = arrGrid(movies);*/\r\n        }\r\n        dispatch(actionsMovie.sortMovieAC(movies))\r\n    }\r\n};\r\n\r\n","import React from \"react\";\r\nimport \"./header.css\"\r\nimport iconB from \"../../icons/filmIconBrown.png\"\r\nimport iconW from \"../../icons/filmIconWhite.png\"\r\nimport searchB from \"../../icons/Search.png\"\r\nimport searchW from \"../../icons/SearchW.png\"\r\nimport {useDispatch} from \"react-redux\";\r\nimport {actionsMovie, movieSearchThunk} from \"../../redux/movieReducer\";\r\n\r\nconst Header = (props) => {\r\n    const dispatch = useDispatch();\r\n\r\n    function ChangeColor() {\r\n        props.ChangeSwitch(!props.isSwitched)\r\n    }\r\n\r\n    let timeOutId;\r\n    function search(e) {\r\n        clearTimeout(timeOutId);\r\n        timeOutId = setTimeout( async () => {\r\n            let text = e.target.value;\r\n            if(text.trim() !== '') {\r\n                await dispatch(actionsMovie.changeIsSearchingMovieAC(true));\r\n                props.setLoading(true);\r\n                await dispatch(actionsMovie.changePageNumberAC(1));\r\n                await dispatch(movieSearchThunk(text,1));\r\n                props.setLoading(false)\r\n            } else {\r\n                await dispatch(actionsMovie.changePageNumberAC(1));\r\n                await dispatch(actionsMovie.changeIsSearchingMovieAC(false));\r\n            }\r\n\r\n        },1000)\r\n    }\r\n    return <div className={\"header\"}>\r\n        <div className={\"header__body\"}>\r\n            <div className={\"header__left\"}>\r\n                <div className={\"header__icon\"}>\r\n                   <img src={props.isSwitched?iconW:iconB} alt=\"icon\"/>\r\n                </div>\r\n                <div className={\"header__input\"}>\r\n                    <input type={\"text\"} placeholder={\"Search\"} onChange={(e) => search(e)}/>\r\n                    <div className={\"header__searchIcon\"}>\r\n                        <img src={props.isSwitched?searchW:searchB} alt=\"search\"/>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div className={\"header__right\"}>\r\n                Dark theme:\r\n                <div className={`header__switch ${props.isSwitched ? \"header__switch_active\":\"\"}`}\r\n                    onClick={ChangeColor}\r\n                >\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n};\r\n\r\n\r\nexport default Header;","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAOVSURBVHgB7VdbSFRRFD373JvjBD3UIqOHU+OolRGFREYfRQVJRBBlGURQgX0FRX2Vhb0g/OmjgoIeRBD0Ij96KqR+ZIEpIfiauY6jmBX5LuZx7z2ndWyMSSgUrX5mw+aeu9c+e+297zlnzhD7S+L3+xPxcDHLWsekLMA4hxMVp3k8FxRObAKlpqZmctKUKSt0ztdLKTcwohwmRDXTtCDIVQLeLwMDORBTZ+MUEDjaDSNHCnEAr7mSMTdUhz4CmNtoGI15eXmRgGFsAv5whtOZjWfdmCsGEQWam12SaCVxvhem1dAgiCIINn+Ebx18jnPLei85X4EO3BKMlSxAu0dFPETm8y2H80YQrEOAVTBOgxp4L+IOx3MhhINsew9sBzFlYcz0MPQb9CviPLFt+3r6okXv6E9kbV7vMs55gfpecMxAlRzA5F/c8A1R1VGXx1Pd1tS0AD6FXNOOqfnAu+BxE1W+THY46qenpfUOT6RYoo6OjtkiElmGYFuIaBfMSaiuD89zFmOP3W634ff5tmhE5+G/ZESuPQjCkESDkPKpFQrd8yxdavyuMFIrcUZy8m5pWWtAshmZoHtsOnTSkAMROGQFBiVpfX3lg6mpU3tDoW2wnQI8B/oJcyoxqQqruWyu293CRiHk93pvIPhOTH6ANt22pKzXLCuXNO0s8OwYX4HgNaT2Jqn0ZJkt5V1TiLqsrKwPbIyig9RGECfasxvhMmUwuL3bNMtSUlI+YjWeAdlG+IXwbILvW87Y/je1tY35+fk2G4dQW0tLE4KqVt5CU0sQ3ClVu4kWg6QK41dYiS96Bgcb1MZnEyRq5QY1IbbNy8x81u7zFaHy07ALJKAWSReOuQibYEHcckV8CeM8aCnICrFoAmj9Q3xvC1W7cOQVwO6IzvkM7FoUS0KHCmFLjGK9wO4A60anVNfU4ZI6VJ3aw4zdhwbwuhrvM3ki0WkMgjAcVqSUkLDDlZFRZBPdgD3rJ6mUnZqu5yusu7//MpfSFUMagu9eYIdc6ennUNEs2GZFMbWhT2Kf78OJVYykXg8lAzKOc7QSgbMty9qsO51+CoedONhLgQ2v6hDG+5BUhWmaWgJjl5D91ihmIbkjUtcfhMNhnqBpJ6Kd+HFGYM9PIrpqapopbXstCXER1s5Y4jXs30kdZ/9J4sRx4jhxnDhOPCZiiR+ICbtZjFIi6s4lA62tV/CTpe7L4/5LMwoxcVko/g5QOr3yXAbxXAAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAOeSURBVHgB7VdbSFRRFD373DuNipURURHF9CCjJGdGiYo+ih4UZZn0hhAqqK+gqK+ysBeEP31YUJBFRFFqPsCsFFI/kqBxHEZGLSUs7AVlhDV2H+e0jqM2fRQjWv3MZg73nH323mvvdfc9cy+xvyTLXa6E5IkTXboQK7DciZFJQuSXBQLn1T6xUZQNGRlJDsvySqKVjPNVTMpMjEZGFMa2SuDFa84zfT6fqbMRyro5c5yJycmZgvN9AFkiOZ8NtY75PUOte3tbqzs6jGyPZy30pdOI0nyM+YcNLKWkjenpLoeuLxJS5kK11GYsjA0D9M2IMs1xEM2ksWOPbfR4AkwIDSx8I9Ncgz1/TFRL3JKsjAyPJsRqknIFqFsM9XiMTow807IeyIQEp9M0d2N9AFTPinL/jqS+wqcX8yqT6GpVU5PvT8CU7Xans0hjrILjXCTA4ZAUlRB+rJEs60h5MNiYtXDhTF3T9kN5lEX65y0SvWYTPUq2rOCtYLBnKHg0ECiZyhlTYFmgdAcRTcD8M+ZnpWGUV4ZCnTkeTxaoPQfHBb9kydgnVKYyCWF532lZd++0tHT+tirViWNse5dgbBmqWq8KQZAUBHAMFgbq6pB5ATqydrqmjSPDyBFEJ2E3DfvvYVEP+wbY1JQHAs9ZDEKb3e4iBN6OICWmbd8AWtDifInG2BkkkjZkKaXA+hlmrshS1gDsNguH/ZXt7W/YMEVHMBtBEnHdpXOe2ifEFk3TVNB3eOBPw2Y19vtAexvmT5Hc3qTU1Nbi4mKbjUAo2+ttQ+A6UHcdXVuABBJlhO75GA1g4zEofPiK85B68NkoCeHBVqdKTrnfX43GycO9PoW1AFgIoKorDTbKgkOmlja53YWobB2qrACd+6HvwijF4WBB74JOPU7OAZ8PGFfUHq4TeMQ+oT+YlD1g6yauH+GTCFUu/KcM+PWiAHVvujjnS6UQkzgX4hQMwxiHFKim61tRfR45HEUINC8KtBuBtqk9oWkXAeqKAu3DqZRb4fcf/JKSchaxJsN28mCBWJ8oa27eU9ncnI8T7Ek/1SdxKAS83noo0lD1ejTWS3WfhW1XYD9tMDB6YI+D8zqm65owjEKoNw0EVtUfRiUlhmVx2BxHHMUEDaCeG0N0GdWaQojlUF1AvO6fwFIuY/9IAOzn7D9JHDgOHAeOA8eBYwfOV6+oQozam0Usgr8tQ31JqLfIS/jPTMJsxJ80MYCaNuf5PwAZc46ppnB7UQAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAAfSC3RAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAE/SURBVHgBpZK/S8NAFMffO9OCdig00KlamrTN4B9QcPA/0EHBVVDwB6KTf4SD+BeI4CaO/gNuFcHFpam5S5NidBV1iEGT5xW0lKQJlH6muwefu3v3fQAxiEjxOK+YpqlCBvi/eG63Z7/L5QMMwxIyZiNiAaJoMSK6rRnGVeoJLufnvW7XiNf7Qhw6QuyOlRzO9x3LakEKfc5Pep1OdbTG/hpr1ZrN+zTxh7ELls+vJESG6EIGuq5bSFRK3ohYyhJfhJgPiXwY89RXYZpLaWJAtAeKcpMQP4PgLJfL7Qzyi0vyp1dn5Is0TXsarQ9z9DyvEvr+FgzyI3qIEOdkX8sE8C7324yxo2q9fpkQh/3Y9kIQhoaiKF+FYvFRVdUPGccGIZ7KYTjWGo1rmAQ5BJsy7zfXttdhUqS0JifsDqbhF/AdhnUw9pS7AAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAAfSC3RAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAFCSURBVHgBpZE9SwNBEIZnNglE011l4UeZQrjckoQQC7kfoLkY0VYw4AeiVX6EhfgLRLATqzONpbVBQrxOiWBlZ0SLnEncXUcwQbNsUHzhuGXYZ3beeRGG5Lpu1Gq1JmQ8Hvq12hMYhP3DSj4/1g3DHQVgMcR7FCKBjM2+S3lZDYJTUwMocn5UyGSSWj2V2i1xvmmCtj3bzoFBS5zvEzzzvca+/rnzILgygSoWO5ZSLmogeXqAEaIl3ZFfSwOlUtYo0Mtmp4RSoQbSah89x5kzgdjrbYGUVQ2MdjqHiLhRsu3JYYiWUlA0EUVy+6PZ4AJBIhJZR6USVLymPMep2Two9aIYK9OLe36jcaKBfS2k09NMiCRK+dZtt28ums1XynIVEA+AsYpfr5/BX1R0nDXK+5m+5YHH3+hzTBq9TBYq8B99APupcAJqcB8HAAAAAElFTkSuQmCC\"","import React, {useEffect, useState} from \"react\";\r\nimport {withRouter} from \"react-router\";\r\nimport {moviesAPI} from \"../../../API/API\";\r\nimport \"./cover.css\"\r\nimport {getIsFavorite, getRating, setFavoriteThunk} from \"../../../redux/movieDetailsReducer\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport {addErrorThunk} from \"../../../redux/errorReducer\";\r\n\r\nconst Cover = React.forwardRef((props, ref) => {\r\n    const [isLoading, ChangeLoading] = useState(true);\r\n    const [movieDetails, ChangeDetails] = useState({});\r\n    const [movie, ChangeMovie] = useState(props.movie);\r\n    const dispatch = useDispatch();\r\n    const id = movie.id;\r\n    useEffect(async () => {\r\n        let rating = getRating(movie).vote_average;\r\n        let isFavorite =  getIsFavorite(movie).isFavorite;\r\n        ChangeMovie({...movie,isFavorite:isFavorite,vote_average:rating});\r\n        await moviesAPI.getMovieById(id).then((res) => {\r\n            if(res.status >= 400) {\r\n                dispatch(addErrorThunk(res.status,res.data.status_message));\r\n                return\r\n            }\r\n            ChangeDetails(res.data);\r\n            ChangeLoading(false);\r\n        });\r\n    }, []);\r\n\r\n    async function ChangeRating() {\r\n        let isFavorite = await dispatch(setFavoriteThunk(id,false));\r\n        ChangeMovie({...movie,isFavorite:isFavorite})\r\n    }\r\n\r\n    if (isLoading) {\r\n        return <div>\r\n        </div>\r\n    }\r\n    return <div className={\"cover\"} ref={ref} onClick={(e) => {\r\n        if (e.target.classList.contains(`cover__body`)) {\r\n            props.history.push(`/movie/${id}`)\r\n        }\r\n    }}>\r\n        <div className={\"cover__body\"}>\r\n            <div className={\"cover__heart\"}>\r\n                <i className={`fas fa-heart ${movie.isFavorite?'fa-heart_active' : ''}`}\r\n                onClick={() => ChangeRating()} />\r\n            </div>\r\n            <div className={\"cover__description\"}>\r\n                <div className={\"cover__genre\"}>\r\n                    {movieDetails.genres.slice(0,2).map((el, index) => {\r\n                        if (index + 1 !== 2) {\r\n                            return `${el.name}/`\r\n                        } else {\r\n                            return `${el.name}`\r\n                        }\r\n                    })\r\n                    }\r\n                </div>\r\n                <div className={\"cover__time\"}>\r\n                    {movieDetails.runtime} minutes\r\n                </div>\r\n                <div className={\"cover__yearStar\"}>\r\n                    <div className={\"cover__year\"}>\r\n                        {movieDetails.release_date.split('-')[0]}\r\n                    </div>\r\n                    <div className={\"cover__star\"}>\r\n                        <span>{movie.vote_average}</span>\r\n                        <i className=\"fas fa-star\"></i>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n});\r\n\r\nconst withRouterForwardRef = Component => {\r\n    const WithRouter = withRouter(({forwardedRef, ...props}) => (\r\n        <Component ref={forwardedRef} {...props} />\r\n    ));\r\n\r\n    return React.forwardRef((props, ref) => (\r\n        <WithRouter {...props} forwardedRef={ref}/>\r\n    ));\r\n};\r\n\r\nexport default withRouterForwardRef(Cover);\r\n","import React, {useState, useRef} from \"react\";\r\nimport \"./movie.css\";\r\nimport noImage from \"../../../icons/noimage.jpg\"\r\nimport {withRouter} from \"react-router\";\r\nimport Cover from \"../cover/Cover\";\r\n\r\nconst Movie = (props) => {\r\n\r\n    const movie = props.movie;\r\n    let ref = useRef(null);\r\n\r\n    function onHover() {\r\n        if (ref.current !== null) {\r\n            ref.current.classList.add('cover_active');\r\n        }\r\n    }\r\n\r\n    function onOut() {\r\n        if (ref.current !== null) {\r\n            ref.current.classList.remove('cover_active');\r\n        }\r\n\r\n    }\r\n\r\n    return <div className={\"movie\"}>\r\n        <div className={\"movie__body\"}\r\n             onMouseOver={(e) => onHover()}\r\n             onMouseOut={(e) => onOut()}>\r\n            <Cover movie={props.movie} ref={ref}/>\r\n            <img src={movie.poster_path === null ? noImage : `https://image.tmdb.org/t/p/w500/${movie.poster_path}`}\r\n                 alt=\"movieImage\" width={\"285\"} height={\"428\"}\r\n            />\r\n            <div className={\"movie__title\"}>\r\n                <span>{movie.title}</span>\r\n            </div>\r\n        </div>\r\n    </div>\r\n};\r\n\r\n\r\nexport default withRouter(Movie);","import React, {useState} from \"react\";\r\nimport \"./pagination.css\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {addMoviesThunk, movieSearchThunk} from \"../../redux/movieReducer\";\r\nimport {withRouter} from \"react-router\";\r\n\r\n\r\nconst Pagination = (props) => {\r\n    const dispatch = useDispatch();\r\n    const textSearching = useSelector(state => state.moviesPage.searchingText);\r\n    const isSearching = useSelector(state => state.moviesPage.isSearching);\r\n    let pages = [];\r\n    for (let i = 1; i <= props.pageCount; i++) {\r\n        pages.push(i);\r\n    }\r\n    let portionCount = Math.ceil(props.pageCount / props.portionSize);\r\n    let [portionNumber, setPortionNumber] = useState(1);\r\n    let leftPositionPageNumber = (portionNumber - 1) * props.portionSize + 1;\r\n    let rightPositionPageNumber = portionNumber * props.portionSize;\r\n\r\n\r\n    function chooseNumber(e) {\r\n        if (e.target.classList.contains(`pagination__number`) && !e.target.classList.contains(`pagination__number_active`) ) {\r\n            props.setLoading(true);\r\n           if(props.location.pathname === '/movies' && isSearching) {\r\n                dispatch(movieSearchThunk(textSearching,e.target.innerHTML))\r\n            } else if (props.location.pathname === '/movies') {\r\n                dispatch(addMoviesThunk(e.target.innerHTML));\r\n            }\r\n\r\n            props.setLoading(false);\r\n        }\r\n    }\r\n    return <div className={\"pagination\"}>\r\n        <div className={\"pagination__body\"}>\r\n            {portionNumber > 1 && <div className={\"pagination__left\"}>\r\n                <div className={\"pagination__leftArrow pagination__arrow\"} onClick={() => setPortionNumber(portionNumber - 1)}>\r\n                </div>\r\n                <div className={\"pagination__leftPoints points\"} onClick={() => {\r\n                    setPortionNumber(portionNumber - 5 < 1 ?1:portionNumber - 5)\r\n                }}>\r\n                    <span></span>\r\n                </div>\r\n            </div>}\r\n            <div className={\"pagination__numbers\"} onClick={(e) => chooseNumber(e)}>\r\n            {\r\n                pages\r\n                    .filter((el) => el >= leftPositionPageNumber && el <= rightPositionPageNumber)\r\n                    .map(el => <span key = {el} className={`pagination__number ${el === props.pageNumber ? 'pagination__number_active' : ''}`}>{el}</span>)\r\n            }\r\n            </div>\r\n            {portionCount > portionNumber && <div className={\"pagination__right\"}>\r\n                <div className={\"pagination__rightPoints points\"}\r\n                     onClick={() => {\r\n                         setPortionNumber(portionNumber + 5 > portionCount?portionCount:portionNumber + 5)\r\n                     }}\r\n                >\r\n                    <span></span>\r\n                </div>\r\n                <div className={\"pagination__rightArrow pagination__arrow\"} onClick={() => setPortionNumber(portionNumber + 1)}>\r\n                </div>\r\n            </div>}\r\n        </div>\r\n    </div>\r\n};\r\n\r\nexport default withRouter(Pagination);","import React, {useEffect, useState} from 'react';\r\nimport \"./movies.css\";\r\nimport Movie from \"./movieItem/Movie\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {addMoviesThunk, FilterByNameThunk, FilterByYearThunk} from \"../../redux/movieReducer\";\r\nimport Pagination from \"../pagination/Pagination\";\r\n\r\n\r\nconst Movies = (props) => {\r\n    const dispatch = useDispatch();\r\n    const movies = useSelector(state => state.moviesPage.movies);\r\n    const portionSize = 5;\r\n    const pageCount = useSelector(state => state.moviesPage.totalCountPages);\r\n    const pageNumber = useSelector(state => state.moviesPage.pageNumber);\r\n    const isSearching = useSelector(state => state.moviesPage.isSearching);\r\n    const [isFilteredName, ChangeFilterName] = useState(false);\r\n    const [isFilteredDate, ChangeFilterDate] = useState(false);\r\n    const [moviesCount, changeMoviesCountRow] = useState(4);\r\n    let moviesGrid = arrGrid(moviesCount);\r\n\r\n    function changeMoviesCount() {\r\n        if (window.innerWidth < 1200 && window.innerWidth > 900) {\r\n            changeMoviesCountRow(3);\r\n        } else if (window.innerWidth < 900) {\r\n            changeMoviesCountRow(2);\r\n        } else {\r\n            changeMoviesCountRow(4)\r\n        }\r\n    }\r\n\r\n    function arrGrid(moviesCount) {\r\n        let arr = [];\r\n        for (let i = 0; i < Math.ceil(movies.length / moviesCount); i++) {\r\n            arr[i] = movies.slice((i * moviesCount), (i * moviesCount) + moviesCount);\r\n        }\r\n        return arr;\r\n    }\r\n    useEffect(async () => {\r\n        if (!isSearching) {\r\n            await dispatch(addMoviesThunk(pageNumber));\r\n            props.ChangeGettedMovies(true);\r\n        }\r\n        changeMoviesCount();\r\n        props.setLoading(false);\r\n    }, [isSearching]);\r\n\r\n\r\n    /*function changePage(e) {\r\n        if (!e.target.classList.contains(`movies__span_active`)) {\r\n            let spans = document.querySelectorAll(\".movies__span\");\r\n            for (let i = 0; i < spans.length; i++) {\r\n                spans[i].classList.remove(`${e.target.className}_active`)\r\n            }\r\n            e.target.classList.toggle(`${e.target.className}_active`);\r\n        }\r\n    }*/\r\n\r\n    function nameFilter() {\r\n        ChangeFilterName(!isFilteredName);\r\n        dispatch(FilterByNameThunk(!isFilteredName));\r\n    }\r\n\r\n    function dateFilter() {\r\n        ChangeFilterDate(!isFilteredDate);\r\n        dispatch(FilterByYearThunk(!isFilteredDate));\r\n    }\r\n\r\n    return <div className={\"movies\"}>\r\n        <div className={\"movies__body\"}>\r\n            <div className={\"movies__title\"}>\r\n                <div className={\"movies__sample\"}>\r\n                    <span className={\"movies__span movies__span_active\"} onClick={(e) => {\r\n                        {/*changePage(e)*/\r\n                        }\r\n                    }}>Movies</span>\r\n                    {/*<span className={\"movies__span\"} onClick={(e) => changePage(e)}>TV series</span>*/}\r\n                </div>\r\n                <div className={\"movies__filter\"}>\r\n                    <span onClick={() => nameFilter()}>Name</span>\r\n                    <span onClick={() => dateFilter()}>Date</span>\r\n                </div>\r\n            </div>\r\n            {props.isLoading ? <div>Loading</div>\r\n                :\r\n                <div className={\"movies__items\"}>\r\n                    {/*{moviesGrid.map((el, index) => <div className={\"movies__row\"} key={index}>\r\n                            {el.map(el => <Movie key={el.id} movie={el}/>)}\r\n                        </div>\r\n                    )}*/}\r\n                    {movies.map(el => <Movie key={el.id} movie={el}/>)}\r\n                </div>\r\n            }\r\n            <div className={\"movies__pagination\"}>\r\n                {props.isLoading ? <div></div>\r\n                    :\r\n                    <Pagination pageCount={pageCount} portionSize={portionSize} pageNumber={pageNumber}\r\n                                setLoading={props.setLoading}/>\r\n                }\r\n            </div>\r\n        </div>\r\n    </div>\r\n};\r\n\r\nexport default Movies;","import React from \"react\";\r\nimport {useSelector} from \"react-redux\";\r\nimport \"./error.css\";\r\n\r\n\r\nconst Error = () => {\r\n    const errorStatus = useSelector(state => state.errorPage.errorStatus);\r\n    const errorMessage = useSelector(state => state.errorPage.errorMessage);\r\n    return <div className={\"error\"}>\r\n        <div className={\"error__body\"}>\r\n            <div className={\"error__status\"}><span>{errorStatus} </span>ERROR</div>\r\n            <div className={\"error__message\"}>{errorMessage}</div>\r\n        </div>\r\n    </div>\r\n};\r\n\r\nexport default Error;","import React from \"react\";\nimport './app.css';\nimport Header from \"./components/header/Header\";\nimport {useState, Suspense} from \"react\";\nimport {Redirect, Route, Switch} from \"react-router-dom\";\nimport Movies from \"./components/movies/Movies\";\nimport {useSelector} from \"react-redux\";\nimport Error from \"./components/Error/Error\";\n\nconst MovieDetailsContainer = React.lazy(() => import(\"./components/movieDetails/MovieDetailsContainer\"));\n\nfunction App() {\n    let [isSwitched, ChangeSwitch] = useState(false);\n    const [isLoading, setLoading] = useState(true);\n    const [isGettedMovies, ChangeGettedMovies] = useState(false);\n    const isError = useSelector(state => state.errorPage.isError);\n    if(isError){\n       return <Error />\n    }\n    return (\n        <div className={`App ${isSwitched ? \"App_active\" : \"\"}`}>\n            <div className={`App__body`}>\n                <Header isSwitched={isSwitched} ChangeSwitch={ChangeSwitch} setLoading={setLoading}/>\n                <Switch>\n                    <Route exact path='/movies' render={() => <Movies isLoading={isLoading} setLoading={setLoading}\n                                                                      ChangeGettedMovies={ChangeGettedMovies} isGettedMovies = {isGettedMovies}/>}/>\n                    {isGettedMovies &&\n                    <Suspense fallback={<div></div>}>\n                        <Route exact path='/movie/:id' render={() => <MovieDetailsContainer\n                            isLoading={isLoading}\n                            setLoading={setLoading}\n                        />}/>\n                    </Suspense>\n                    }\n                    <Route render={() => <Redirect to={'/movies'}/>}/>\n                </Switch>\n            </div>\n\n        </div>\n\n    );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import {combineReducers, applyMiddleware, createStore, Action, compose} from \"redux\";\r\nimport thunk from \"redux-thunk\";\r\nimport MovieReducer from \"./movieReducer\";\r\nimport movieDetailsReducer from \"./movieDetailsReducer\";\r\nimport ErrorReducer from \"./errorReducer\";\r\n\r\n\r\nlet reducers =combineReducers({\r\n    moviesPage:MovieReducer,\r\n    detailsPage:movieDetailsReducer,\r\n    errorPage:ErrorReducer\r\n});\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunk)));\r\n/*const store = createStore(reducers,applyMiddleware(thunk));*/\r\n\r\n\r\nwindow.store = store;\r\n\r\n\r\nexport default store;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport {BrowserRouter} from \"react-router-dom\";\nimport {Provider} from \"react-redux\";\nimport store from \"./redux/store\"\n\nReactDOM.render(<BrowserRouter>\n        <Provider store={store}>\n            <React.StrictMode>\n                <App/>\n            </React.StrictMode>\n        </Provider>\n    </BrowserRouter>,\n    document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}